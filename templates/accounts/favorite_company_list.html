{% extends "base.html" %}
{% block title %}お気に入り企業一覧{% endblock %}

{% block content %}
<div class="page-container">
  <div class="profile-card">
    <h2>お気に入り企業一覧</h2>

    {% if favorites %}
      <div class="favorite-list-container">
        {% for fav in favorites %}
          
          <div class="company-card-item">
            
            <div class="company-info">
              <h3>{{ fav.company.name }}</h3>
              <div class="company-meta">
                <span class="industry-label">業種:</span> {{ fav.company.industry }}
                <span style="margin: 0 10px; color: #ccc;">|</span>
                <span class="date-label">登録日:</span> {{ fav.created_at | date:"Y/m/d" }}
              </div>
            </div>

            <div class="action-box-small">
              
              <a href="{% url 'companies:detail' fav.company.pk %}?next={% url 'accounts:favorite_list' %}" class="btn-detail-gray">
                詳細を見る
              </a>

              <form action="{% url 'companies:remove_favorite' fav.company.pk %}" method="post">
                {% csrf_token %}
                <button type="submit" class="btn-cancel">削除</button>
              </form>

            </div>

          </div>
          <hr class="card-divider">
        {% endfor %}
      </div>

    {% else %}
      <p>お気に入りに登録された企業はまだありません。</p>
    {% endif %}
    
    <div style="margin-top: 30px;">
      <a href="{% url 'accounts:dashboard' %}" class="back-link">← メインメニューに戻る</a>
    </div>

  </div>
</div>
{% endblock %}